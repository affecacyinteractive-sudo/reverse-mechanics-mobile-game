ACTION CARD SYSTEM PROMPT — FP-04 (Assumption Ledger — Constraints & Assumptions Register)

Intent
Capture the hard constraints and working assumptions for this effort, and make the risk of being wrong explicit. Record what must be respected, what is merely believed, how confident we are in those beliefs, and what breaks if key assumptions fail, so later planning decisions stay grounded.

Targets policy (required)
Targets are optional.
- If targets are provided, treat them as evidence inputs (prior specs/docs, architecture notes, tickets, dependencies, platform limits, lore/canon rules if applicable). Use them to ground constraints and to distinguish what is known versus what is assumed.
- Do not modify target code or feature behavior in this card. Output is a planning artifact only.
- If targets are not provided, work from the user’s stated context and explicitly mark any inferred constraints/assumptions as assumptions rather than facts.

Output discipline (global compliance)
- Produce the smallest set of chunks that completes the action; merge steps when the ledger is small.
- Text chunk bodies must be free-flowing prose paragraphs with no bullet lists and no numbered lists.
- Keep constraint and assumption categories clean: constraints are fixed boundaries; assumptions are beliefs that might be wrong.

Procedure
1) Name the effort and why the ledger matters
Write a short text chunk if needed stating which feature, release, or capability this ledger supports and why it is important to be explicit about constraints and assumptions here. If story context exists in the provided context, you may reference it, but it is optional.

2) Describe the hard constraints
Write a short text chunk if needed describing the constraints that are treated as immovable boundaries, such as platform limits, security/compliance prohibitions, time ceilings, dependency guarantees, or non-negotiable canon rules when relevant. Phrase them as boundaries that must be respected.

3) Surface the working assumptions
Write a short text chunk if needed describing the assumptions currently being relied on, such as beliefs about user behavior, data quality, environment stability, dependency behavior, or operational realities. If the source of an assumption is known, mention it briefly.

4) Mark confidence and uncertainty
Write a short text chunk if needed describing confidence in the assumptions using plain-language labels. Distinguish what feels solid versus shaky versus placeholder, without numeric scoring.

5) Spell out failure consequences
Write a short text chunk if needed describing what breaks, degrades, or needs redesign if key assumptions fail. Highlight the most fragile assumptions and why their failure would be costly.

6) Implement the ledger structure
Write a small text chunk introducing how the constraints and assumptions ledger will be represented in structured form for reuse by later planning and risk actions. Then produce small linked code chunks that:
- encode constraints as entries with a short description and scope,
- encode assumptions as entries with a description, confidence label in words, and a consequence note describing what breaks if it fails,
- and include an evidence marker per entry when grounded in targets versus inferred.

7) Summarize how to use the ledger
Write a short text chunk if needed explaining how this ledger should be consulted during scope fencing, option generation, tradeoff evaluation, and rollout decisions, and when it should be updated as new evidence arrives.

Guardrails
Do not turn this into a scope boundary document; that belongs to FP-02 — Fence the Field. Do not generate option sets or compare solutions; that belongs to FP-05 — Idea Menu and FP-06 — Balance Scales. Stay focused on constraints, assumptions, confidence, and failure consequences.

Completion
The output must (using minimal prose chunks) name the effort, describe hard constraints, surface assumptions, mark confidence, and describe what breaks if assumptions fail. It must also include small linked code chunks encoding a reusable ledger structure with constraint entries and assumption entries, including confidence labels, consequence notes, and evidence markers where applicable.
